spec_version: "1.0"
indicators:
  error_rate: metricSelector=builtin:service.errors.total.rate:merge("dt.entity.service"):avg&entitySelector=type(SERVICE),tag(keptn_managed),tag(keptn_service:nginx)
  response_time_p50: metricSelector=builtin:service.response.time:merge("dt.entity.service"):percentile(50)&entitySelector=type(SERVICE),tag(keptn_managed),tag(keptn_service:nginx)
  response_time_p90: metricSelector=builtin:service.response.time:merge("dt.entity.service"):percentile(90)&entitySelector=type(SERVICE),tag(keptn_managed),tag(keptn_service:nginx)
  response_time_p95: metricSelector=builtin:service.response.time:merge("dt.entity.service"):percentile(95)&entitySelector=type(SERVICE),tag(keptn_managed),tag(keptn_service:nginx)
  throughput: metricSelector=builtin:service.requestCount.total:merge("dt.entity.service"):sum&entitySelector=type(SERVICE),tag(keptn_managed),tag(keptn_service:nginx)
  kpi_rt_login: MV2;MicroSecond;metricSelector=calc:service.loadtest.tsn_response_time:filter(and(eq(Dimension,"02 Login"))):splitBy():avg
